<ion-content class="ion-padding konten">
  <div class="head">
    <ion-text>
      <h1>REGISTRASI</h1>
    </ion-text>
  </div>

  <form [formGroup]="FormRegister">
    <ion-item class="item">
      <ion-label class="label" color="primary" position="floating">Nama</ion-label>
      <ion-input type="text" name="nama" formControlName="nama"></ion-input>
      <div class="error-container">
        <ng-container *ngFor="let validation of validations.nama">
          <div class="error-message"
            *ngIf="FormRegister.get('nama').hasError(validation.type) && (FormRegister.get('nama').dirty || FormRegister.get('nama').touched)">
            <span>{{ validation.message }}</span>
            <br /><br />
          </div>
        </ng-container>
      </div>
    </ion-item>

    <ion-item  class="item">
      <ion-label class="label" color="primary" position="floating">Username</ion-label>
      <ion-input type="text" name="username" formControlName="username"></ion-input>
      <div class="error-container">
        <ng-container *ngFor="let validation of validations.username">
          <div class="error-message"
            *ngIf="FormRegister.get('username').hasError(validation.type) && (FormRegister.get('username').dirty || FormRegister.get('username').touched)">
            <span>{{ validation.message }}</span>
            <br /><br />
          </div>
        </ng-container>
      </div>
    </ion-item>

    <ion-item class="item">
      <ion-label class="label" color="primary" position="floating">Email</ion-label>
      <ion-input type="text" name="email" formControlName="email"></ion-input>
      <div class="error-container">
        <ng-container *ngFor="let validation of validations.email">
          <div class="error-message"
            *ngIf="FormRegister.get('email').hasError(validation.type) && (FormRegister.get('email').dirty || FormRegister.get('email').touched)">
            <span>{{ validation.message }}</span>
            <br /><br />
          </div>
        </ng-container>
      </div>
    </ion-item>

    <ion-item class="item">
      <ion-label class="label" color="primary" position="floating">Tempat, Tanggal Lahir</ion-label>
      <ion-input type="text" name="ttl" formControlName="ttl"></ion-input>
      <div class="error-container">
        <ng-container *ngFor="let validation of validations.ttl">
          <div class="error-message"
            *ngIf="FormRegister.get('ttl').hasError(validation.type) && (FormRegister.get('ttl').dirty || FormRegister.get('ttl').touched)">
            <span>{{ validation.message }}</span>
            <br /><br />
          </div>
        </ng-container>
      </div>
    </ion-item>

    <ion-item class="item">
      <ion-label class="label" color="primary" position="floating">Password</ion-label>
      <ion-input type="text" name="password" formControlName="password" *ngIf="showPasswordText"></ion-input>
      <ion-input type="password" name="password" formControlName="password" *ngIf="!showPasswordText"></ion-input>
      <ion-icon color="dark" slot="icon-only" (click)="showPasswordText = !showPasswordText" *ngIf="showPasswordText"
        name="eye" slot="end" class="ion-align-self-center"></ion-icon>
      <ion-icon color="dark" slot="icon-only" (click)="showPasswordText = !showPasswordText" *ngIf="!showPasswordText"
        name="eye-off" slot="end" class="ion-align-self-center"></ion-icon>
      <div class="error-container">
        <ng-container *ngFor="let validation of validations.password">
          <div class="error-message"
            *ngIf="FormRegister.get('password').hasError(validation.type) && (FormRegister.get('password').dirty || FormRegister.get('password').touched)">
            <span>{{ validation.message }}</span>
            <br /><br />
          </div>
        </ng-container>
      </div>
    </ion-item>

    <ion-item class="item">
      <ion-label class="label" color="primary" position="floating">Alamat</ion-label>
      <ion-input type="text" name="alamat" formControlName="alamat"></ion-input>
      <div class="error-container">
        <ng-container *ngFor="let validation of validations.alamat">
          <div class="error-message"
            *ngIf="FormRegister.get('alamat').hasError(validation.type) && (FormRegister.get('alamat').dirty || FormRegister.get('alamat').touched)">
            <span>{{ validation.message }}</span>
            <br /><br />
          </div>
        </ng-container>
      </div>
    </ion-item>

    <br />
    <ion-button class="button" expand="full" (click)="register(FormRegister.value)">Register</ion-button>
  </form>
  <p class="ion-text-center">
    Sudah punya akun?
    <a routerLink="/login">&nbsp;Masuk Sekarang</a>
  </p>
  <span></span>
  <p class="ion-text-center">
    Dengan mendaftar anda menyetujui
    <a routerLink="/sdk">Syarat & Ketentuan</a>.
  </p>
</ion-content>